diff -ur Accountsservice-23.13.9-old/src/libaccountsservice/act-user.c Accountsservice-23.13.9/src/libaccountsservice/act-user.c
--- Accountsservice-23.13.9-old/src/libaccountsservice/act-user.c	2023-03-27 20:27:39.000000000 +0100
+++ Accountsservice-23.13.9/src/libaccountsservice/act-user.c	2025-09-11 12:06:05.475287199 +0100
@@ -1748,7 +1748,7 @@
         }
 }
 
-#ifdef HAVE_CRYPT_GENSALT
+#if defined(HAVE_CRYPT_GENSALT) && defined(__GLIBC__)
 static gchar *
 generate_salt_for_crypt_hash (void)
 {
